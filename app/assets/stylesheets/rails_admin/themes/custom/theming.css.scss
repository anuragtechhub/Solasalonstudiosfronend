//= require select2

@import 'bootstrap/variables';
@import 'rails_admin/themes/custom/variables';
@import 'bootstrap/mixins';
@import 'variables';

// Custom
li[data-model^="ckeditor"], li.nav-header:not(:first-child) {
  display: none !important;
}


// TYPOGRAPHY
// --------------------------------------------------

@import url(https://fonts.googleapis.com/css?family=Didact+Gothic&subset=latin,cyrillic);

body.rails_admin {
  padding-top: 76px !important;
}

h1 {
  font-size: 39px;
  line-height: 39px;
  letter-spacing: -1px;
  font-weight: 900;
  margin: -20px 0;
}

h2 {
  font-size: 36px;
  font-weight: 700;
}

h3 {
  font-size: 28px;
  font-weight: 700;
}

h4 {
  font-size: 24px;
  font-weight: 500;
}

h5 {
  font-size: 16px;
  font-weight: 500;
}

h6 {
  font-size: 13px;
  font-weight: 500;
  text-transform: none;
}

p {
  margin-bottom: 1em;
}

a:hover, a:active {
  text-decoration: none !important;
}

.separator {
  display: inline-block;
  margin: 0 9px;
  font-size: 19px;
  color: #AFAFAF;
}

// SCAFFOLDING
// --------------------------------------------------

.page-header {
  display: none;
  border-bottom: none;
}

.progress-bar {
  background: $red;
  font-weight: bold;
  color: #FFF;
  text-indent: 10px;
  height: 24px;
  letter-spacing: -1px;
}


// NAVBAR
// --------------------------------------------------

.navbar {

  .brand {
    font-size: 22px !important;
    text-shadow: none;
    margin-top: 2px;

    .navbar:hover {
      color: $linkColorHover;
    }

    img {
      margin-top: -1px;
      margin-right: 6px;
      height: 40px;
    }

    small {
      display: inline-block;
      margin-left: 5px;
    }
  }

  // .container-fluid {
  //   padding: 0;
  // }

  .navbar-inner {
    @include box-shadow(none);
    // padding-left: 20px;
    // padding-right: 20px;
  }

  .nav > li > a {
    text-shadow: none;
  }

  .nav > .active > a,
  .nav > .active > a:hover,
  .nav > .active > a:focus {
    @include box-shadow(none);
  }

  .navbar-search .search-query {
    border: none;
    @include box-shadow(none);
    line-height: normal;
  }

  .btn-navbar {
    background-image: none;
    @include box-shadow(none);
  }

  .btn, .btn-group {
    margin-top: 6px;
  }

  .navbar-inverse {

    .brand:hover {
      color: $blueDark;
    }

    .navbar-search .search-query {
      border-color: transparent;
      @include box-shadow(none);
      line-height: normal;
      color: $textColor;

      &:focus {
        padding: 4px 14px;
        color: $textColor;
      }
    }
  }

}

div.subnav {

  border-color: transparent;
  background-image: none;
  background-color: $grayLighter;
  @include box-shadow(none);

  div.subnav-fixed {
    top: $navbarHeight;
  }

  .nav > li > a {
    border-color: transparent;
    @include box-shadow(none);
    color: $textColor;
  }

  .nav > .active > a,
  .nav > .active > a:hover {
    border-color: transparent;
    background-color: darken($grayLighter, 10%);
    @include box-shadow(none);
    color: $textColor;
  }
}

// NAVIGATION
// --------------------------------------------------

.nav-list {

  & > li > a,
  & > .active > a,
  .nav-header {
    text-shadow: none;
  }

  .divider {
    background: none;
    border-bottom: 2px solid $dropdownDividerBottom;
  }

  li a:hover, li a:active {
    background: #DFDFDF;
    color: darken($linkColor, 15%) !important;
  }

  li.active a:hover, li.active a:active {
    color: #FFF !important;
  }
}

.nav-header { font-size: $fontSizeMini; }

.dropdown{
  .dropdown-menu{
    background-clip: padding-box;
    background-color: #2C3E50;
    border: 1px solid rgba(0, 0, 0, 0);
    border-radius: 6px !important;
    box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
    display: none;
    float: left;
    left: 0;
    list-style: none outside none;
    margin: 2px 0 0;
    min-width: 160px;
    padding: 5px 0;
    position: absolute;
    top: 100%;
    z-index: 1000;

    &:after{
      border-bottom: 6px solid #2C3E50;
      border-left: 7px solid rgba(0, 0, 0, 0);
      border-right: 7px solid rgba(0, 0, 0, 0);
      content: "";
      display: inline-block;
      position: absolute;
      top: -6px;
      left: auto;
      right: 10px;
    }

    a {
      color: #FFF;
    }
  }

  &.open{
    .dropdown-menu{ display: block; }
  }
}

.nav-pills {
  .open .dropdown-toggle {
    background-color: $blueDark;

    .dorpdown-menu { display: block; }
  }
}

.sidebar-nav {
  text-transform: capitalize;
}

.root_links {
  display: none;
}

a.logout {
  padding-right: 0 !important;
}

.link {
  text-transform: capitalize !important;
}

li.current_user {
  padding-top: 16px;
  color: #EFEFEF;
}


.pagination {

  ul {

    @include box-shadow(none);

    & > li > a {
      background-color: $red;
      border-color: transparent;
      color: $white;

      &:hover {
        background-color: darken($red, 10%);
      }
    }

    & > .active > a,
    & > .active > a:hover {
      background-color: $paginationActiveBackground;
      color: $textColor;
    }

    & > .disabled > a,
    & > .disabled > a:hover {
      background-color: darken($red, 10%);
      color: $white;
    }
  }
}

.pager {

  li > a,
  li > span {
    background-color: $red;
    border: none;
    color: $white;

    &:hover {
      background-color: darken($red, 10%);
    }
  }

  .disabled > a,
  .disabled > span,
  .disabled > a:hover,
  .disabled > span:hover {
    background-color: darken($red, 10%);
    color: $white;
  }
}

.pagination ul > li:first-child > a, .pagination ul > li:first-child > span, .pagination ul > li:last-child > a, .pagination ul > li:last-child > span {
  background: $red !important;
  color: #FFF !important;

  &:hover, &:active {
    background: darken($red, 10%) !important;
  }
}

.breadcrumb {

  & > li {
    text-shadow: none;
  }

  a {
    text-transform: capitalize;
  }
}

.nav.nav-tabs {

  a, a:link, a:visited, a:hover, a:active {
    color: lighten($blueDark, 10%) !important;

    .fa, [class^="icon-"], [class*=" icon-"] {
      margin-right: 3px;
    }
  }

  a:hover, a:active {
    color: $blueDark !important;
  }

  .dropdown-menu {

    a, a:link, a:visited, a:hover, a:active {
      color: #EFEFEF !important;
    }

    a:hover, a:active {
      color: $blueDark !important;
    }
  }
}

// BUTTONS
// --------------------------------------------------

.btn {
  padding: 9px 20px;
  border: none;
  background-image: none;
  color: $white;
  text-decoration: none;
  text-shadow: none;
  @include box-shadow(none);
  -webkit-transition: 0.25s;
  -moz-transition: 0.25s;
  transition: 0.25s;

  &:hover,
  &:focus {
    color: white;
    -webkit-transition: 0.25s;
    -moz-transition: 0.25s;
    transition: 0.25s;
  }

  &:active,
  &.active {
    @include box-shadow(none);
    color: rgba(255, 255, 255, 0.75);
  }

  &.disabled,
  &[disabled] {
    color: white;
  }

  .btn-large {
    padding: $paddingLarge;
  }

  .btn-small {
    padding: $paddingSmall;
  }

  .btn-mini {
    padding: $paddingMini;
  }
}

// TABLES
// -----------------------------------------------------

.table tbody tr {
  &.success > td,
  &.error > td,
  &.warning > td,
  &.info > td {
    color: $white;
  }
}

body.rails_admin .table {
  font-size: 17px;
}

body.rails_admin .table th {
  text-transform: capitalize;
}

body.rails_admin .table th, body.rails_admin .table td {
  padding: 5px 10px;
}

body.rails_admin .table .headerSortUp:after, body.rails_admin .table .headerSortUp:hover:after {
  border-left: 7px solid transparent;
  border-right: 7px solid transparent;
  border-top: 7px solid #000;
}

body.rails_admin .table .header:after, body.rails_admin .table .headerSortDown:after, body.rails_admin .table .headerSortDown:hover:after {
  border-width: 0 7px 7px;
}

// FORMS
// --------------------------------------------------
.ui-datepicker {
  z-index: 9999 !important;
}
.ui-datepicker-calendar .ui-state-active, .ui-state-active, .ui-widget-content .ui-state-active, .ui-widget-header .ui-state-active {
  background: $red !important;
  border-color: $red !important;
  color: #FFF;
  font-weight: bold;
  text-shadow: 0 1px 1px #234386;
}

.ui-timepicker-table .ui-timepicker-title {
  position: relative;
  padding: 5px;
  font-size: 12px;
  border: none;
  border-bottom: 1px solid #B6B6B6;
  -moz-border-radius: 0;
  -webkit-border-radius: 0;
  border-radius: 0
}

.ui-state-default, .ui-widget-content .ui-state-default, .ui-widget-header .ui-state-default {
  background: #FFF;
  border-color: #FFF;
  font-size: 16px;
}

textarea,
input[type="text"],
input[type="password"],
input[type="datetime"],
input[type="datetime-local"],
input[type="date"],
input[type="month"],
input[type="time"],
input[type="week"],
input[type="number"],
input[type="email"],
input[type="url"],
input[type="search"],
input[type="tel"],
input[type="color"],
.uneditable-input {
  padding: 7px 6px;
  border: 2px solid #dce4ec;
  text-indent: 1px;
  border-radius: $inputBorderRadius;
  @include box-shadow(none);
  @include placeholder(#acb6c0);
  color: #859393;

  &:focus {
    border-color: #1abc9c;
    @include box-shadow(none);
    color: #687272;
  }
}

textarea, input[type="text"], input[type="email"], input[type="password"], input[type="url"] {
  width: 340px !important;
}

.input-prepend {

  .add-on:first-child,
  .btn:first-child {
    border-radius: $inputBorderRadius 0 0 $inputBorderRadius;
  }
}

.input-append {

  input,
  select,
  .uneditable-input {

    border-radius: $inputBorderRadius 0 0 $inputBorderRadius;

    + .btn-group .btn:last-child {
      border-radius: 0 $inputBorderRadius $inputBorderRadius 0;
    }
  }

  .add-on:last-child,
  .btn:last-child,
  .btn-group:last-child > .dropdown-toggle {
    border-radius: 0 $inputBorderRadius $inputBorderRadius 0;
  }
}

.input-prepend,
.input-append {

  input,
  select,
  .uneditable-input {
    border-radius: 0;
    + .btn-group .btn {
      border-radius: 0 $inputBorderRadius $inputBorderRadius 0;
    }
  }

  .add-on:first-child,
  .btn:first-child {
    border-radius: $inputBorderRadius 0 0 $inputBorderRadius;
  }

  .add-on:last-child,
  .btn:last-child {
    border-radius: 0 $inputBorderRadius $inputBorderRadius 0;
  }
}

.input-append,
.input-prepend {

  .add-on {
    padding: 9px 5px;
    text-shadow: none;
    border: none;
  }
}

.control-group.error,
.control-group.error input:focus,
.control-group.error textarea:focus {
    border-color: #e74c3c;
    @include box-shadow(none);
}

.control-group.success,
.control-group.success input:focus,
.control-group.success textarea:focus {
    border-color: #2ecc71;
    @include box-shadow(none);
}

.control-group.warning,
.control-group.warning input:focus,
.control-group.warning textarea:focus {
    border-color: #f1c40f;
    @include box-shadow(none);
}

.control-group.info,
.control-group.info input:focus,
.control-group.info textarea:focus {
    border-color: #3498db;
    @include box-shadow(none);
}

input[disabled],
input[readonly],
textarea[disabled],
textarea[readonly] {
  background-color: #eaeded;
  border-color: transparent;
  color: #cad2d3;
  cursor: default;
}

input[type="file"]{
  line-height: 16px;
}

fieldset {
  margin-top: 10px;
}

legend {
  background: $grayLighter;
  padding-left: 10px;
  width: calc(100% - 10px);
  border-radius: 5px;
  border-bottom: none;
  color: $textColor;
}

label.control-label {
  text-transform: capitalize;
}

.form-actions {
  border-top: none;
  border-radius: $baseBorderRadius;
  background-color: darken($grayLighter, 5%);
}

body.rails_admin .form-horizontal input[type=file] {
  margin-top: 6px;
  margin-bottom: -8px;
}

body.rails_admin .form-horizontal.denser .help-block {
  margin-top: 2px;
  font-size: 13px;
  color: #777;
  max-width: 360px;
  width: 100%;  
}

body.rails_admin .form-horizontal.denser .filtering-select {

  input {
    width: auto !important;
    -webkit-border-top-left-radius: 6px;
    -webkit-border-bottom-left-radius: 6px;
    -moz-border-radius-topleft: 6px;
    -moz-border-radius-bottomleft: 6px;
    border-top-left-radius: 6px;
    border-bottom-left-radius: 6px;
  }

  .add-on {
    background-color: #dce4ec;
    height: 23px;
    margin-top: -1px;
  }
}

// DROPDOWNS
// --------------------------------------------------
.ui-menu li {
  border: 0 !important;
  margin-right: 2px;
}
.ui-menu li a, .ui-menu li a:link, .ui-menu li a:visited {
  font-size: 15px;
  border: 0 !important;

  &:hover, &:active {
    border: 0;
    background: $brand-primary;
    color: #FFF;
  }
}

// ALERTS, LABELS, BADGES
// --------------------------------------------------

.alert {
  background-color: $orange;
  color: $white;
  text-shadow: none;
  border-radius: 4px;

  h1, h2, h3, h4, h5, h6 {
    color: $white;
  }

  .alert-error {
    background-color: $red;
  }

  .alert-success {
    background-color: $green;
  }

  .alert-info {
    background-color: $blue;
  }
}

.label {
  padding: 6px 10px;
  text-transform: capitalize;
}

.badge {
  padding: 6px 10px;
  border-radius: $borderRadiusLarge;
  text-shadow: none;
}


// MISC
// --------------------------------------------------

.well {
  border: none;
  @include box-shadow(none);

}

.progress {

  background: $grayLighter;
  border-radius: 32px;
  height: $baseLineHeight + 2;
  @include box-shadow(none);

  .bar {
    background-color: $blueDark;
    background-image: none;
    @include box-shadow(none);
  }

  .bar + .bar {
    @include box-shadow(none);
  }
}

.progress-striped .bar {
  #gradient > { @include gradient-striped($blueDark) };
}

.progress-success .bar,
.progress-success.progress-striped .bar,
.bar-success {
  background-color: $green;
}

.progress-warning .bar,
.progress-warning.progress-striped .bar,
.bar-warning {
  background-color: $yellow;
}

.progress-danger .bar,
.progress-danger.progress-striped .bar,
.bar-danger {
  background-color: $red;
}

.progress-info .bar,
.progress-info.progress-striped .bar,
.bar-info {
  background-color: $blue;
}

.tooltip {

  &.in {
    opacity: 1;
  }
}

.popover {
  color: $white;

  .popover-title {
    border-bottom: 2px solid $dropdownDividerBottom;
  }
}

.modal {

  .modal-header {
    background-color: $navbarBackground;
    border-bottom: none;
    color: $white;
  }

  .modal-footer {
    background-color: $grayLighter;
    border-top: none;
    @include box-shadow(none);
  }
}

.close {
  text-shadow: none;
}

// MEDIA QUERIES
// --------------------------------------------------

@media (max-width: $gridRowWidth768 - 1) {

  div.subnav {

    .nav > li:first-child > a,
    .nav > li + li > a {
      border-color: transparent;

      &:hover {
        background-color: darken($grayLighter, 10%);
      }
    }

    .nav > li:last-child > a {
      border-radius: 0 0 4px 4px;
    }
  }

  .input-append,
  .input-prepend {

    .add-on,.btn {
      padding: 5px;
    }
  }
}

@media (max-width: $navbarCollapseWidth) {

  .navbar {

    .nav-collapse .nav > li > a {
      color: $white;

      &:hover {
        color: $green;
        background-color: $blueDark;
      }
    }
    
    .nav-collapse ul.nav.pull-right {
      display: table;
      li {
        float: none;
        vertical-align: middle;
        img{
          padding: 0 !important;
        }
      }
    }
  }
}

@media (max-width: $minBodyWidth - 1) {
  body.rails_admin { min-width: $minBodyWidth }
  .navbar-inner{ min-width: $minNavbarWidth }
}

//  OTHER RULES
body.rails_admin { padding-top: $navbarHeight + 20 }

input.currency-input {
  max-width: 88px;
  -webkit-border-top-right-radius: 6px;
  -webkit-border-bottom-right-radius: 6px;
  -moz-border-radius-topright: 6px;
  -moz-border-radius-bottomright: 6px;
  border-top-right-radius: 6px;
  border-bottom-right-radius: 6px;  
}