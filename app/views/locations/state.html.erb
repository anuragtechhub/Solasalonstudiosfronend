<div class="container content-container">
  <div class="row">

    <div class="row">
      <div class="one-half column">
          <h1>Find a Sola Location</h1>
          <h3 class="subtle">Over 150 Salons</h3>
      </div>

      <div class="one-half column text-right">

        <div class="sola-select">
          <div class="row">
            <div class="option-placeholder"><h3><%= params[:state] || 'Select a State' %></h3></div>
            <div class="arrow"><span class="ss-dropdown"></span></div>
          </div>
          <div class="options">
            <% @all_locations.select("DISTINCT(state)").order(:state => :asc).each do |location| %>
            <div class="option" data-value="<%= locations_by_state_path(location.state) %>"><%= location.state %></div>
            <% end %>
          </div>
        </div>

      </div>
    </div>
    
  </div>
</div>

<div class="location-breadcrumb">
  <div class="container">
    <%= link_to 'United States', :locations %> <span class="divider">/</span> <%= link_to params[:state], locations_by_state_path(params[:state]) %>
  </div>
</div>

<div class="row" id="map" style="height: 525px; width: 100%;"></div>
<div id="map-overlay" style="height: 525px; width: 100%;"></div>

<div class="container content-container">

    <% @locations.each_with_index do |location, index| %>
      <% if index == 0 || index % 3 == 0 %><div class="row"><% end %>
        <div class="one-third column search-result">
          <h3><%= location.name %></h3>
          <p><%= location.html_address.html_safe %></p>
          <div><%= link_to 'View Location', salon_location_path(location.state, location.city, location.url_name) %></div>
        </div>
      <% if ((index + 1) % 3) == 0 || index + 1 == @locations.size %></div><% end %>
    <% end %>

</div>

<%= render 'shared/public_website/hidden_map_inputs' %>

<% content_for(:scripts) { javascript_include_tag('locations') } %>