<div class="location-breadcrumb">
  <div class="container">
    <%= link_to 'All Locations', :locations %> <span class="divider">/</span> <%= link_to @location.state, locations_by_state_path(@location.state).gsub(/\./, '') %> 
    <span class="divider">/</span> <%= link_to @location.msa.name.html_safe, region_path(@location.msa.url_name).gsub(/\./, '') %> 
    <span class="divider">/</span> <%= link_to @location.name, salon_location_path(@location.state, @location.city, @location.url_name).gsub(/\./, '') %>
  </div>
</div>

<div class="container content-container">
  <div class="row">

    <div class="six columns">
      <h1>Salon Professionals</h1>
      <h3 class="subtle"><%= @location.name %></h3>
    </div>

    <div class="six columns text-right">

      <% if @location && @location.services && @location.services.size > 0 %>
      <div class="sola-select">
        <div class="row">
          <div class="option-placeholder"><h3><%= params[:service] || 'Filter by Service' %></h3></div>
          <div class="arrow"><span class="ss-dropdown"></span></div>
        </div>
        <div class="options">
            <div class="option" data-value="<%= salon_stylists_path(@location.state, @location.city, @location.url_name) %>">All Services</div>
          <% @location.services.each do |service| %>
            <div class="option" data-value="<%= salon_stylists_path(@location.state, @location.city, @location.url_name, service) %>"><%= service %></div>
          <% end %>
        </div>
      </div>
      <% end %>

    </div>

  </div>
</div>

<div class="container">
  <div class="callout green coupon small">
    <h4><strong>Contact your salon professional directly to schedule an appointment or for more information</strong></h4>
  </div>
</div>

<div class="container content-container">
  <div class="row">

    <% if @stylists && @stylists.size > 0 %>
      <% @stylists.sort_by(&:name).each_with_index do |stylist, index| %>
        <% if index == 0 || index % 3 == 0 %><div class="row"><% end %>
          <div class="one-third column search-result stylist">
            <h3 class="salon-professional-name"><%= link_to show_salon_professional_path(stylist) do %><%= stylist.name.html_safe %><% end %></h3>
            <h3 class="subtle business-name"><%= stylist.business_name.present? ? stylist.business_name.html_safe : '&nbsp;'.html_safe %><br>Studio <%= stylist.studio_number %></h3>
            <p class="salon-services">
              <% if stylist.services && stylist.services.size > 0 %>
                <% stylist.services.each do |service| %>
                  <span class="service" data-service="<%= service %>"><%= service %></span>
                <% end %>
              <% else %>
                <span class="service" style="visibility:hidden">&nbsp;</span>
              <% end %>
            </p>
            <div><%= stylist.phone_number %></div>
            <div class='view-profile'><%= link_to 'View Profile', show_salon_professional_path(stylist) %></div>
          </div>
        <% if ((index + 1) % 3) == 0 || index + 1 == @stylists.size %></div><% end %>
      <% end %>
    <% end %>

  </div>
</div>

<% content_for(:scripts) { javascript_include_tag('salon_stylists'); } %>
<% content_for(:scripts) {@location.tracking_code.html_safe} if @location.tracking_code.present? %>
<% content_for(:title) { "Salon Professionals at #{@location.name}" } %>
