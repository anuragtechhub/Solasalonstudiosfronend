<div class="container search-results">
  <div class="row">

    <% if params[:query].present? && (@locations && @locations.size == 0) && (@stylists && @stylists.size == 0) %>
      <p>There were no results found for your search query "<%= params[:query] %>"</p>
    <% end %>

    <% if params[:first] == 'salon_professionals' %>
      <%= render 'shared/public_website/stylist_search_results' %>
    <% end %>

    <% if @locations && @locations.size > 0 %>
      <h2>Location Results</h2>
      <% @locations.sort_by(&:name).each_with_index do |location, index| %>
        <% if index == 0 || index % 3 == 0 %><div class="row"><% end %>
          <div class="one-third column search-result">
            <h3><%= location.name.html_safe %></h3>
            <p><%= location.html_address.html_safe %></p>
            <% if params[:first] == 'salon_professionals' %>
              <div><%= link_to 'View Directory', salon_stylists_path(location.url_name).gsub(/\./, '') %></div>
            <% else %>
              <div><%= link_to 'View Location', salon_location_path(location.url_name).gsub(/\./, '') %></div>
            <% end %>
          </div>
        <% if ((index + 1) % 3) == 0 || index + 1 == @locations.size %></div><% end %>
      <% end %>
    <% end %>

    <% if params[:first] != 'salon_professionals' %>
      <%= render 'shared/public_website/stylist_search_results' %>
    <% end %>

    <% if @posts && @posts.size > 0 %>
      <h2>Blog Results</h2>
      <% @posts.each_with_index do |post| %>
        <%= render 'shared/blog_post_summary', :post => post %>
      <% end %>
    <% end %>

  </div>
</div>

<% content_for(:title) { "Search Results for #{params[:query]}" } %>